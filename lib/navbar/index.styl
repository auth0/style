//
// Navbars
// --------------------------------------------------

// Basics of a navbar
$navbar-mobile-height ?=                   75px
$navbar-desktop-height ?=                  110px
$navbar-padding-horizontal ?=              floor($grid-gutter-width / 2)

// Navbar links
$navbar-default-link-color ?=              $color-text-black
$navbar-default-link-hover-color ?=        black
$navbar-dark-link-color ?=                 $color-text-contrast-light
$navbar-dark-link-hover-color ?=           white

// Navbar toggle
$navbar-toggle-background-color ?=         $color-gray
$navbar-toggle-background-hover-color ?=   black

.navbar
  position relative
  //height $navbar-mobile-height
  color $navbar-default-link-color
  border-bottom 1px solid rgba(black, 0.15)
  clearfix()


  +breakpoint("desktop")
    height $navbar-desktop-height

    // Dark version styles only apply for desktop view
    &.dark-version
      border-bottom 1px solid rgba(white, 0.15)
      color $navbar-dark-link-color

  a
    color currentColor

  // Reset container width at mobile view
  .container
    +breakpoint("desktop", "max")
      width 100%
      max-width 100%


  .navbar-header
    clearfix()

    +breakpoint("desktop", "max")
      background-color white
      border-bottom 1px solid rgba(black, 0.15)

    +breakpoint("desktop")
      float left


  // Both navbar header and collapse
  //
  // When a container is present, change the behavior of the header and collapse.

  .container,
  .container-fluid
    > .navbar-header,
    > .navbar-collapse
      margin-right (-($navbar-padding-horizontal))
      margin-left (-($navbar-padding-horizontal))

      +breakpoint("desktop")
        margin-right 0
        margin-left 0


// Brand/project name
//
// Includes Auth0 logo and hiring alert

.navbar-brand
  float left
  position relative
  margin-left $navbar-padding-horizontal
  navbar-vertical-align(36px, $navbar-mobile-height)

  // Set logo size
  width 100px
  height 36px

  +breakpoint("desktop")
    navbar-vertical-align(36px, $navbar-desktop-height)

    .navbar > .container &,
    .navbar > .container-fluid &
      margin-left (-($navbar-padding-horizontal))

  .logo
    display block
    width 100%
    height 100%
    background-image url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjQ2MnB4IiBoZWlnaHQ9IjE2OHB4IiB2aWV3Qm94PSIwIDAgNDYyIDE2OCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDMuMC4zICg3ODkxKSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5VbnRpdGxlZDwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHNrZXRjaDp0eXBlPSJNU1BhZ2UiPgogICAgICAgIDxnIGlkPSJsb2dvLWJsdWUtaG9yaXpvbnRhbCIgc2tldGNoOnR5cGU9Ik1TTGF5ZXJHcm91cCI+CiAgICAgICAgICAgIDxnIGlkPSJHcm91cCIgc2tldGNoOnR5cGU9Ik1TU2hhcGVHcm91cCI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iQ2xpcHBlZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTg4LjAwMDAwMCwgNDQuMDAwMDAwKSIgZmlsbD0iIzE2MjE0RCI+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTI0Ni41MTcsMC4xMSBDMjM4LjQzOSwwLjExIDIzMS42MDcsMy45MTYgMjI2Ljc1OSwxMS4xMTUgQzIyMS45NCwxOC4yNzEgMjE5LjM5MywyOC4yNiAyMTkuMzkzLDQwIEMyMTkuMzkzLDUxLjc0IDIyMS45NCw2MS43MjkgMjI2Ljc1OSw2OC44ODQgQzIzMS42MDcsNzYuMDg0IDIzOC40MzksNzkuODg5IDI0Ni41MTcsNzkuODg5IEMyNTQuNTk1LDc5Ljg4OSAyNjEuNDI3LDc2LjA4NCAyNjYuMjc1LDY4Ljg4NCBDMjcxLjA5Myw2MS43MjkgMjczLjY0LDUxLjc0IDI3My42NCw0MCBDMjczLjY0LDI4LjI2IDI3MS4wOTMsMTguMjcxIDI2Ni4yNzUsMTEuMTE1IEMyNjEuNDI3LDMuOTE2IDI1NC41OTUsMC4xMSAyNDYuNTE3LDAuMTEgTDI0Ni41MTcsMC4xMSBaIE0yNDYuNTE3LDcwLjAwNSBDMjQyLjY1NSw3MC4wMDUgMjM5LjYwNCw2Ny44MiAyMzcuMTg3LDYzLjMyNCBDMjM0LjI2OCw1Ny44OTMgMjMyLjY2LDQ5LjYxIDIzMi42Niw0MCBDMjMyLjY2LDMwLjM5IDIzNC4yNjgsMjIuMTA2IDIzNy4xODcsMTYuNjc2IEMyMzkuNjA0LDEyLjE4IDI0Mi42NTUsOS45OTQgMjQ2LjUxNyw5Ljk5NCBDMjUwLjM3OCw5Ljk5NCAyNTMuNDMsMTIuMTggMjU1Ljg0NywxNi42NzYgQzI1OC43NjYsMjIuMTA2IDI2MC4zNzMsMzAuMzg5IDI2MC4zNzMsNDAgQzI2MC4zNzMsNDkuNjExIDI1OC43NjYsNTcuODk1IDI1NS44NDcsNjMuMzI0IEMyNTMuNDMsNjcuODIgMjUwLjM3OCw3MC4wMDUgMjQ2LjUxNyw3MC4wMDUgTDI0Ni41MTcsNzAuMDA1IFogTTcxLjQ1LDI5LjE3MiBMNzEuNDUsNjMuNDg0IEM3MS40NSw3Mi41MyA3OC44MSw3OS44ODkgODcuODU2LDc5Ljg4OSBDOTUuNzQ2LDc5Ljg4OSAxMDEuNzA3LDc1Ljk3NSAxMDMuOTAyLDc0LjI5MSBDMTA0LjAyNCw3NC4xOTcgMTA0LjE4NCw3NC4xNjkgMTA0LjMzMSw3NC4yMTYgQzEwNC40NzgsNzQuMjYzIDEwNC41OTIsNzQuMzc5IDEwNC42MzcsNzQuNTI3IEwxMDUuOTYxLDc4Ljg2IEwxMTUuNzM3LDc4Ljg2IEwxMTUuNzM3LDI5LjE3MiBMMTAzLjE3NSwyOS4xNzIgTDEwMy4xNzUsNjYuMzI2IEMxMDMuMTc1LDY2LjUwMSAxMDMuMDc2LDY2LjY2MiAxMDIuOTIxLDY2Ljc0MyBDMTAwLjU1OSw2Ny45NjEgOTUuODk5LDcwLjAwNiA5MS4yMzEsNzAuMDA2IEM4Ny4yNTIsNzAuMDA2IDg0LjAxMiw2Ni43NjggODQuMDEyLDYyLjc4NyBMODQuMDEyLDI5LjE3MiBMNzEuNDUsMjkuMTcyIEw3MS40NSwyOS4xNzIgWiBNMTk3LjIzNyw3OC44NTkgTDIwOS44LDc4Ljg1OSBMMjA5LjgsNDQuNTQ3IEMyMDkuOCwzNS41MDEgMjAyLjQ0LDI4LjE0MSAxOTMuMzk0LDI4LjE0MSBDMTg2LjczNSwyOC4xNDEgMTgxLjM5MywzMS4wMDQgMTc4LjgwMiwzMi43MSBDMTc4LjY1NywzMi44MDUgMTc4LjQ3MywzMi44MTMgMTc4LjMyMiwzMi43MzEgQzE3OC4xNzEsMzIuNjQ5IDE3OC4wNzUsMzIuNDkxIDE3OC4wNzUsMzIuMzE4IEwxNzguMDc1LDEuMTQxIEwxNjUuNTEzLDEuMTQxIEwxNjUuNTEzLDc4Ljg1OSBMMTc4LjA3NSw3OC44NTkgTDE3OC4wNzUsNDEuNzA0IEMxNzguMDc1LDQxLjUyOSAxNzguMTc0LDQxLjM2OCAxNzguMzMsNDEuMjg4IEMxODAuNjkxLDQwLjA2OSAxODUuMzUyLDM4LjAyNSAxOTAuMDE5LDM4LjAyNSBDMTkxLjk0NywzOC4wMjUgMTkzLjc2LDM4Ljc3NiAxOTUuMTIzLDQwLjEzOSBDMTk2LjQ4Niw0MS41MDIgMTk3LjIzNiw0My4zMTYgMTk3LjIzNiw0NS4yNDMgTDE5Ny4yMzYsNzguODU5IEwxOTcuMjM3LDc4Ljg1OSBaIE0xMjQuNzkyLDM5LjA1NSBMMTMyLjQzOCwzOS4wNTUgQzEzMi42OTcsMzkuMDU1IDEzMi45MDcsMzkuMjY1IDEzMi45MDcsMzkuNTI0IEwxMzIuOTA3LDY2Ljg1OCBDMTMyLjkwNyw3NC4wNDMgMTM4Ljc1Myw3OS44ODggMTQ1LjkzOCw3OS44ODggQzE0OC41NDMsNzkuODg4IDE1MS4xMTMsNzkuNTEyIDE1My41ODUsNzguNzcgTDE1My41ODUsNjkuNzk2IEMxNTIuMTQzLDY5LjkyMyAxNTAuNDg1LDcwLjAwNSAxNDkuMzEzLDcwLjAwNSBDMTQ3LjE5Myw3MC4wMDUgMTQ1LjQ2OSw2OC4yOCAxNDUuNDY5LDY2LjE2MSBMMTQ1LjQ2OSwzOS41MjMgQzE0NS40NjksMzkuMjY0IDE0NS42NzksMzkuMDU0IDE0NS45MzgsMzkuMDU0IEwxNTMuNTg1LDM5LjA1NCBMMTUzLjU4NSwyOS4xNzEgTDE0NS45MzgsMjkuMTcxIEMxNDUuNjc5LDI5LjE3MSAxNDUuNDY5LDI4Ljk2MSAxNDUuNDY5LDI4LjcwMiBMMTQ1LjQ2OSwxMi4yOTUgTDEzMi45MDcsMTIuMjk1IEwxMzIuOTA3LDI4LjcwMiBDMTMyLjkwNywyOC45NjEgMTMyLjY5NywyOS4xNzEgMTMyLjQzOCwyOS4xNzEgTDEyNC43OTIsMjkuMTcxIEwxMjQuNzkyLDM5LjA1NSBMMTI0Ljc5MiwzOS4wNTUgWiBNNTEuMzYxLDc4Ljg1OSBMNjQuNDI5LDc4Ljg1OSBMNDQuNTU1LDkuNTUgQzQyLjk2MiwzLjk5MiAzNy44MTEsMC4xMSAzMi4wMjksMC4xMSBDMjYuMjQ3LDAuMTEgMjEuMDk2LDMuOTkyIDE5LjUwMiw5LjU1IEwtMC4zNzIsNzguODU5IEwxMi42OTcsNzguODU5IEwxOC40NDksNTguNzk4IEMxOC41MDcsNTguNTk3IDE4LjY5MSw1OC40NTkgMTguOSw1OC40NTkgTDQ1LjE1OCw1OC40NTkgQzQ1LjM2Nyw1OC40NTkgNDUuNTUyLDU4LjU5NyA0NS42MDksNTguNzk4IEw1MS4zNjEsNzguODU5IEw1MS4zNjEsNzguODU5IFogTTQyLjA1Niw0OC41NzYgTDIyLjAwNCw0OC41NzYgQzIxLjg1Nyw0OC41NzYgMjEuNzE4LDQ4LjUwNyAyMS42MjksNDguMzg4IEMyMS41NDEsNDguMjcyIDIxLjUxMyw0OC4xMTkgMjEuNTUzLDQ3Ljk3OCBMMzEuNTc5LDEzLjAxMiBDMzEuNjM3LDEyLjgxMSAzMS44MjEsMTIuNjczIDMyLjAzLDEyLjY3MyBDMzIuMjM5LDEyLjY3MyAzMi40MjMsMTIuODExIDMyLjQ4LDEzLjAxMiBMNDIuNTA3LDQ3Ljk3OCBDNDIuNTQ3LDQ4LjEyIDQyLjUxOSw0OC4yNzIgNDIuNDMsNDguMzg4IEM0Mi4zNDIsNDguNTA3IDQyLjIwMyw0OC41NzYgNDIuMDU2LDQ4LjU3NiBMNDIuMDU2LDQ4LjU3NiBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDxnIGlkPSJDbGlwcGVkIiBmaWxsPSIjRUI1NDI0Ij4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE5LjU1NSwxMzUuODYxIEwxMDIuNzA1LDgzLjk5NyBMMTQ2LjgxMyw1MS45NTIgTDkyLjI5MSw1MS45NTIgTDc1LjQ0LDAuMDkgTDc1LjQzNSwwLjA3NiBMMTI5Ljk2NSwwLjA3NiBMMTQ2LjgyLDUxLjk0NyBMMTQ2LjgyMSw1MS45NDYgTDE0Ni44MzUsNTEuOTM4IEMxNTYuNjIzLDgyLjAzIDE0Ni41NDIsMTE2LjI1NiAxMTkuNTU1LDEzNS44NjEgTDExOS41NTUsMTM1Ljg2MSBaIE0zMS4zMjEsMTM1Ljg2MSBMMzEuMzA3LDEzNS44NzEgTDc1LjQyNiwxNjcuOTI0IEwxMTkuNTU1LDEzNS44NjIgTDc1LjQ0LDEwMy44MDggTDMxLjMyMSwxMzUuODYxIEwzMS4zMjEsMTM1Ljg2MSBaIE00LjA1Miw1MS45MzkgTDQuMDUyLDUxLjkzOSBDLTYuMjUyLDgzLjY2IDUuNzA5LDExNy4yNzIgMzEuMzEyLDEzNS44NjcgTDMxLjMxNiwxMzUuODUxIEw0OC4xNjgsODMuOTkgTDQuMDcsNTEuOTUxIEw1OC41NzksNTEuOTUxIEw3NS40MzEsMC4wODkgTDc1LjQzNSwwLjA3NSBMMjAuOTAyLDAuMDc1IEw0LjA1Miw1MS45MzkgTDQuMDUyLDUxLjkzOSBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+')
    background-size contain
    background-repeat no-repeat
    // Hide logo text
    font-size 0
    color rgba(0, 0, 0, 0)

  .hiring
    display block
    position absolute
    top 6px
    left calc(100% + 10px)
    white-space nowrap
    background $color-blue-light
    text-transform uppercase
    font-weight 500
    padding 2px 8px 0 8px
    border-radius 3px
    color white
    font-size 11px
    line-height 22px

    +breakpoint("desktop")
      left: calc(-100% - 10px);

    // Caret
    &::after
      position: absolute;
      content: "";
      top: 6px;
      width: 0;
      height: 0;
      border-top: 5px solid transparent;
      border-bottom: 5px solid transparent;

      +breakpoint("desktop", "max")
        left: -4px;
        border-right: 5px solid #44C7F4;
        border-left: 0;

      +breakpoint("desktop")
        right: -4px;
        border-right: 0;
        border-left: 5px solid #44C7F4;

// Navbar toggle

.navbar-toggle
  position relative
  float right
  margin-right ($navbar-padding-horizontal - 10px)
  padding 10px
  background-color transparent
  background-image none // Reset unusual Firefox-on-Android default style see https://github.com/necolas/normalize.css/issues/214
  border 0
  navbar-vertical-align(38px, $navbar-mobile-height)

  &:hover,
  &:focus
    outline 0

    .icon-bar
      background-color $navbar-toggle-background-hover-color

  // Bars
  .icon-bar
    display block
    width 22px
    height 2px
    border-radius 1px
    background-color $navbar-toggle-background-color

  .icon-bar + .icon-bar
    margin-top 6px

  // Hide at desktop view
  +breakpoint("desktop")
    display none


// Navbar nav links
//
// Builds on top of the `.nav` components with its own modifier class to make
// the nav the full height of the horizontal nav (above 768px).

.navbar-nav

  +breakpoint("desktop")
    navbar-vertical-align(48px, $navbar-desktop-height)
    float left

  .navbar-item

    +breakpoint("desktop", "max")
      border-bottom 1px solid rgba(black, 0.05)
      background-color white

      .navbar-item-link
        position relative
        padding-top 20px
        padding-bottom 20px
        line-height 1.5


    +breakpoint("desktop")
      float left

      &:hover,
      &:focus

        .navbar-item-link
          color $navbar-default-link-hover-color

          .dark-version &
            color $navbar-dark-link-hover-color

        //Show dropdown when hovering list item
        .navbar-dropdown
          opacity 1
          visibility visible
          margin-top 5px
          transition-delay 0s

    .toggle-icon

      +breakpoint("desktop", "max")
        // position absolute
        // top 50%
        // transform translateY(-50%)
        // right $navbar-padding-horizontal
        display none

      +breakpoint("desktop")
        font-size 10px
        margin-left 5px

  //Remove unwanted background-color
  .navbar-item-link
    &:hover,
    &:focus
      background-color transparent

  // Set main navbar padding in desktop view
  &.navbar-left
    +breakpoint("desktop")
      padding-left 30px

  // Transform navbar right elements in mobile view
  &.navbar-right
    +breakpoint("desktop", "max")
      text-transform uppercase
      text-align center
      font-weight 500

      // Reset button styles
      .btn
        width 100%
        color inherit
        border 0
        box-shadow none
        font-size inherit
        line-height 1.5
        padding-top 20px
        padding-bottom 20px

    +breakpoint("desktop")
      .btn
        // Center button vertically
        margin-top 10px
        margin-left 15px


  .navbar-dropdown
    z-index 1000

    +breakpoint("desktop", "max")
      background-color $bg-color-gray

    +breakpoint("desktop")
      color $color-text
      position absolute
      background-color white
      width 226px
      border-radius 3px
      top 45px
      left 15px
      border 1px solid $bg-color-gray
      box-shadow 0 2px 7px rgba(black, 0.2)
      transition visibility 0s 0.2s, opacity 0.2s, margin-top 0.2s
      opacity 0
      visibility hidden
      margin-top 0

    &.with-highlight
      +breakpoint("desktop")
        height 344px
        width 627px

  .navbar-dropdown-list
    float left
    width 225px
    height 100%
    list-style-type none
    padding 0

    +breakpoint("desktop", "max")
      float none
      width 100%
      height auto

    .navbar-dropdown-item > a
      display block
      padding 10px 15px
      border-bottom 1px solid rgba(black, 0.10)

      +breakpoint("desktop", "max")
        line-height 1.5
        padding-top 20px
        padding-bottom 20px

      &:hover
        background-color $bg-color-gray

        +breakpoint("desktop")
          border-bottom 1px solid transparent


    .navbar-dropdown-item:last-child a
      +breakpoint("desktop", "max")
        border-bottom 0

  // Highlight section

  .navbar-dropdown-highlight
    float left
    width 400px
    height 100%
    position relative
    border-left 1px solid $bg-color-gray

    +breakpoint("desktop", "max")
      display none

    .highlight-section-title
      font-size 14px
      margin 0
      padding 10px 15px
      line-height 2
      color $color-text
      border-bottom 1px solid $bg-color-gray

    .highlight-content
      text-align center
      position absolute
      margin-top (49px / 2)
      width 100%
      top 50%
      left 50%
      padding-left 25px
      padding-right 25px
      transform translate(-50%, -50%)

      > img
        width 90px
        height 90px
        background-color $bg-color-gray
        border-radius 50%

      .highlight-text
        margin-bottom 0

      .highlight-title,
      .highlight-text
        color $color-text

      .highlight-footer
        overflow hidden
        margin-top 25px

      .highlight-avatar
        float left

        img
          width 27px
          height 27px
          margin-right 8px
          border-radius 50%

      .highlight-date
        float right

// Component alignment
//
// Repurpose the pull utilities as their own navbar utilities to avoid specificity
// issues with parents and chaining. Only do this when the navbar is uncollapsed
// though so that navbar contents properly stack and align in mobile.
//
// Declared after the navbar components to ensure more specificity on the margins.

+breakpoint("desktop")
  .navbar-left
    float left !important

  .navbar-right
    float right !important
    margin-right -($navbar-padding-horizontal)

    ~ .navbar-right
      margin-right 0
